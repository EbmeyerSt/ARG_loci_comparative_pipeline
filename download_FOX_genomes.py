#!/usr/env/python 3.7

import sys, os, subprocess, argparse
from argparse import RawTextHelpFormatter


def parse_arguments():
	description='%r\n\nDownload test dataset to specified directory.\n%r' % ('_'*80, '_'*80)
	parser=argparse.ArgumentParser(description.replace("'", ""), formatter_class=RawTextHelpFormatter)
	parser.add_argument('-o', help='path to folder to save genomes to', required=True)
	args=parser.parse_args()

	return args




def download_genomes(args):

	urls=["ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/648/515/GCA_000648515.1_ASM64851v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/004/023/995/GCA_004023995.1_ASM402399v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/008/180/565/GCA_008180565.1_ASM818056v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/724/505/GCA_000724505.1_ASM72450v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/958/205/GCA_000958205.1_ASM95820v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/004/126/455/GCA_004126455.1_ASM412645v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/699/265/GCA_000699265.1_4541-1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/699/285/GCA_000699285.1_4552-1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/699/305/GCA_000699305.1_10810","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/699/365/GCA_000699365.1_7996-1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/699/385/GCA_000699385.1_11117","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/903/105/GCA_002903105.1_ASM290310v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/784/025/GCA_003784025.1_PDT000395120.1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/784/025/GCA_003784025.1_PDT000395120.1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/252/915/GCA_000252915.3_Ko11492-1_1.0","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/714/655/GCA_000714655.1_ASM71465v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/906/415/GCA_002906415.1_ASM290641v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/439/185/GCA_000439185.1_UKKV901664","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/695/935/GCA_000695935.1_ASM69593v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/699/325/GCA_000699325.1_4541-2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/699/345/GCA_000699345.1_11227-1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/699/405/GCA_000699405.1_4006","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/699/425/GCA_000699425.1_7699","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/181/755/GCA_002181755.1_ASM218175v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/936/675/GCA_002936675.2_ASM293667v2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/009/825/995/GCA_009825995.1_ASM982599v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/085/475/GCA_900085475.1_12045_7_33","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/086/005/GCA_900086005.1_12082_2_16","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/172/605/GCA_900172605.1_18090_6_31","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/226/135/GCA_003226135.1_ASM322613v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/010/612/335/GCA_010612335.1_ASM1061233v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/014/805/GCA_000014805.1_ASM1480v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/512/185/GCA_000512185.1_ASM51218v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/586/055/GCA_000586055.1_ASM58605v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/708/065/GCA_000708065.1_A_hydrophila_NF2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/724/965/GCA_000724965.1_ASM72496v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/783/635/GCA_000783635.2_ASM78363v2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/940/915/GCA_000940915.1_ASM94091v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/963/645/GCA_000963645.1_ASM96364v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/055/195/GCA_001055195.1_ASM105519v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/055/245/GCA_001055245.1_ASM105524v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/056/955/GCA_001056955.1_ASM105695v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/057/115/GCA_001057115.1_ASM105711v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/057/275/GCA_001057275.1_ASM105727v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/535/585/GCA_001535585.1_ASM153558v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/684/445/GCA_001684445.1_ASM168444v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/687/125/GCA_001687125.1_ASM168712v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/705/905/GCA_001705905.1_ASM170590v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/705/915/GCA_001705915.1_ASM170591v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/895/965/GCA_001895965.1_ASM189596v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/999/685/GCA_001999685.1_ASM199968v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/834/265/GCA_002834265.1_ASM283426v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/850/695/GCA_002850695.3_ASM285069v3","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/323/285/GCA_003323285.1_ASM332328v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/491/245/GCA_003491245.1_ASM349124v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/004/296/435/GCA_004296435.1_ASM429643v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/243/265/GCA_006243265.1_ASM624326v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/246/385/GCA_006246385.1_ASM624638v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/246/545/GCA_006246545.1_ASM624654v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/011/603/095/GCA_011603095.1_ASM1160309v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/012/273/595/GCA_012273595.1_ASM1227359v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/012/641/195/GCA_012641195.1_ASM1264119v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/445/175/GCA_900445175.1_49243_E02","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/902/388/065/GCA_902388065.1_UHGG_MGYG-HGUT-02526","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/196/395/GCA_000196395.1_ASM19639v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/234/845/GCA_000234845.2_ASM23484v2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/315/855/GCA_000315855.2_ASM31585v2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/447/435/GCA_000447435.2_ASM44743v2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/647/955/GCA_000647955.1_ASM64795v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/786/795/GCA_000786795.1_ASM78679v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/786/805/GCA_000786805.1_ASM78680v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/820/065/GCA_000820065.1_PRJEB7036","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/931/985/GCA_000931985.2_ASM93198v2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/466/435/GCA_001466435.1_ASM146643v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/466/445/GCA_001466445.1_ASM146644v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/481/535/GCA_001481535.2_ASM148153v2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/481/545/GCA_001481545.2_ASM148154v2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/499/805/GCA_001499805.2_ASM149980v2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/597/895/GCA_001597895.1_ASM159789v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/643/275/GCA_001643275.2_ASM164327v2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/643/285/GCA_001643285.1_ASM164328v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/643/305/GCA_001643305.1_ASM164330v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/643/355/GCA_001643355.1_ASM164335v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/901/965/GCA_001901965.1_ASM190196v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/901/975/GCA_001901975.1_ASM190197v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/901/985/GCA_001901985.1_ASM190198v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/902/025/GCA_001902025.1_ASM190202v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/902/045/GCA_001902045.1_ASM190204v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/902/055/GCA_001902055.1_ASM190205v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/902/065/GCA_001902065.1_ASM190206v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/902/105/GCA_001902105.1_ASM190210v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/902/125/GCA_001902125.1_ASM190212v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/902/165/GCA_001902165.1_ASM190216v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/093/675/GCA_002093675.1_ASM209367v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/093/695/GCA_002093695.1_ASM209369v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/110/585/GCA_002110585.1_ASM211058v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/180/335/GCA_002180335.1_ASM218033v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/214/245/GCA_002214245.1_ASM221424v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/214/265/GCA_002214265.1_ASM221426v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/214/305/GCA_002214305.1_ASM221430v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/313/065/GCA_002313065.1_ASM231306v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/317/045/GCA_002317045.1_ASM231704v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/735/225/GCA_002735225.1_ASM273522v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/764/135/GCA_002764135.1_ASM276413v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/811/185/GCA_002811185.1_ASM281118v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/883/135/GCA_002883135.1_ASM288313v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/259/515/GCA_003259515.1_ASM325951v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/265/515/GCA_003265515.1_ASM326551v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/483/825/GCA_003483825.1_ASM348382v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/505/635/GCA_003505635.1_ASM350563v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/692/675/GCA_003692675.1_ASM369267v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/947/355/GCA_003947355.1_ASM394735v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/947/375/GCA_003947375.1_ASM394737v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/947/395/GCA_003947395.1_ASM394739v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/004/151/085/GCA_004151085.1_ASM415108v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/005/476/635/GCA_005476635.1_ASM547663v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/043/955/GCA_006043955.1_ASM604395v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/044/015/GCA_006044015.1_ASM604401v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/044/035/GCA_006044035.1_ASM604403v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/044/075/GCA_006044075.1_ASM604407v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/243/325/GCA_006243325.1_ASM624332v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/246/135/GCA_006246135.1_ASM624613v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/246/305/GCA_006246305.1_ASM624630v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/246/315/GCA_006246315.1_ASM624631v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/008/370/735/GCA_008370735.1_ASM837073v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/009/725/185/GCA_009725185.1_ASM972518v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/012/931/585/GCA_012931585.1_ASM1293158v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/445/115/GCA_900445115.1_52121_E02","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/445/125/GCA_900445125.1_53550_E01","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/491/655/GCA_900491655.1_Z5-5","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/683/655/GCA_900683655.1_58529_F01","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/820/145/GCA_000820145.1_PRJEB7040","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/858/225/GCA_001858225.1_ASM185822v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/246/215/GCA_006246215.1_ASM624621v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/008/086/875/GCA_008086875.1_ASM808687v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/522/325/GCA_003522325.1_ASM352232v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/013/298/855/GCA_013298855.1_ASM1329885v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/491/705/GCA_900491705.1_ZJ19-2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/491/735/GCA_900491735.1_ZJ20-2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/819/955/GCA_000819955.1_PRJEB7031","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/819/955/GCA_000819955.1_PRJEB7031","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/009/749/285/GCA_009749285.1_ASM974928v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/265/595/GCA_003265595.1_ASM326559v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/246/225/GCA_006246225.1_ASM624622v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/246/425/GCA_006246425.1_ASM624642v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/013/085/485/GCA_013085485.1_ASM1308548v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/491/715/GCA_900491715.1_Z1-6","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/339/005/GCA_002339005.1_ASM233900v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/201/375/GCA_003201375.1_ASM320137v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/990/305/GCA_003990305.1_ASM399030v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/009/833/025/GCA_009833025.1_ASM983302v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/819/685/GCA_000819685.1_PRJEB7019","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/820/245/GCA_000820245.1_PRJEB7045","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/820/245/GCA_000820245.1_PRJEB7045","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/446/895/GCA_001446895.1_ASM144689v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/908/545/GCA_001908545.1_ASM190854v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/265/495/GCA_003265495.1_ASM326549v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/246/445/GCA_006246445.1_ASM624644v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/491/725/GCA_900491725.1_Z9-6","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/901/212/385/GCA_901212385.1_KLG2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/005/423/215/GCA_005423215.1_PDT000429361.1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/005/423/215/GCA_005423215.1_PDT000429361.1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/502/515/GCA_006502515.1_PDT000247424.2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/006/502/515/GCA_006502515.1_PDT000247424.2","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/023/805/GCA_003023805.1_ASM302380v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/902/387/575/GCA_902387575.1_UHGG_MGYG-HGUT-02491","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/004/024/085/GCA_004024085.1_ASM402408v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/022/685/GCA_001022685.1_ASM102268v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/534/055/GCA_000534055.1_Ente_cloa_UCI_49_V1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/820/025/GCA_000820025.1_PRJEB7034","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/819/825/GCA_000819825.1_PRJEB7027","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/637/545/GCA_900637545.1_51438_G01","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/746/985/GCA_000746985.1_ASM74698v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/819/745/GCA_000819745.1_PRJEB7022","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/906/925/GCA_002906925.1_ASM290692v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/957/025/GCA_000957025.1_ASM95702v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/957/095/GCA_000957095.1_ASM95709v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/958/225/GCA_000958225.1_ASM95822v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/958/805/GCA_000958805.1_ASM95880v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/022/545/GCA_001022545.1_ASM102254v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/518/065/GCA_001518065.1_ASM151806v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/688/155/GCA_003688155.1_ASM368815v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/388/115/GCA_000388115.1_Amol1.0","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/265/465/GCA_003265465.1_ASM326546v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/265/565/GCA_003265565.1_ASM326556v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/764/665/GCA_000764665.1_ASM76466v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/820/005/GCA_000820005.1_PRJEB7033","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/684/435/GCA_001684435.1_ASM168443v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/015/165/GCA_003015165.1_ASM301516v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/010/974/815/GCA_010974815.1_ASM1097481v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/010/974/825/GCA_010974825.1_ASM1097482v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/010/974/915/GCA_010974915.1_ASM1097491v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/010/974/925/GCA_010974925.1_ASM1097492v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/938/605/GCA_001938605.1_ASM193860v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/902/386/125/GCA_902386125.1_UHGG_MGYG-HGUT-02351","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/523/395/GCA_000523395.1_10982.fasta","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/784/965/GCA_000784965.1_ASM78496v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/903/405/GCA_002903405.1_ASM290340v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/037/845/GCA_001037845.1_Ente_cloa_complex_BIDMC100_V1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/921/245/GCA_001921245.1_ASM192124v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/587/065/GCA_002587065.1_ASM258706v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/586/745/GCA_002586745.1_ASM258674v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/061/085/GCA_003061085.1_ASM306108v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/003/061/065/GCA_003061065.1_ASM306106v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/934/505/GCA_002934505.1_ASM293450v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/918/855/GCA_002918855.1_ASM291885v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/002/918/835/GCA_002918835.1_ASM291883v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/013/085/525/GCA_013085525.1_ASM1308552v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/013/085/505/GCA_013085505.1_ASM1308550v1","ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/902/506/035/GCA_902506035.1_AERO9A_assembly"]
	for url in urls:
		if not os.path.isfile(args.o+'/'+os.path.basename(url+'_genomic.fna.gz')) \
		and not os.path.isfile(args.o+'/'+os.path.basename(url+'_genomic.fna')):
			download_fna='wget -r -nH --cut-dirs=7 %s -P %s' %\
			(url+'/'+os.path.basename(url+'_genomic.fna.gz'), args.o)

			subprocess.call(download_fna, shell=True)


def download_uniprot(args):
	#Check if gdown is installed
	try:
		import gdown

	except ImportError:
		install=input('Package gdown is not installed - install now?(y/n)')
		if install=='y':
			subprocess.call('pip install gdown',shell=True)
		else:
			print('Package gdown not installed. Use "pip install gdown" to install\
				or download database file manually from https://drive.google.com/uc?id=1VY70ab47Pu2fodYKKm1_fbJ83NGT1dNc')
			sys.exit()

	download_uniprot='gdown https://drive.google.com/uc?id=1VY70ab47Pu2fodYKKm1_fbJ83NGT1dNc -O %s'\
	% args.o.rstrip('/')+'/uniprotKBjan2019.fna.gz'
	subprocess.call(download_uniprot, shell=True)

	#also download is_db
	download_isdb='gdown https://drive.google.com/uc?id=1otE-8q4xQUxlrV15cosn6GFR1dKlADte -O %s'\
	% args.o.rstrip('/')+'/is_db.dmnd.gz'
	subprocess.call(download_isdb, shell=True)

def unzip(args):

	unzip='gunzip -q %s*' % args.o
	subprocess.call(unzip, shell=True)

def make_diamonddb(args):

	try:
		makedb='diamond makedb --in %s -d %s' % (args.o.rstrip('/')+'/uniprotKBjan2019.fna',args.o.rstrip('/')+'/uniprotKBjan2019.dmnd')
		subprocess.call(makedb, shell=True)
	except:
		print('Something went wrong while creating the diamond database. Check if diamond is installed and all files have the right format.')

def main():
	args=parse_arguments()
	download_genomes(args)
	download_uniprot(args)
	unzip(args)
	make_diamonddb(args)

if __name__=='__main__':
	main()
